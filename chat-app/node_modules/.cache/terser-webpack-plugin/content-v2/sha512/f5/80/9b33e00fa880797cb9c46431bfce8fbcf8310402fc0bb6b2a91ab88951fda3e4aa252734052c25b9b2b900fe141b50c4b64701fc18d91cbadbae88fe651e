{"code":"(this[\"webpackJsonpchat-tutorial\"]=this[\"webpackJsonpchat-tutorial\"]||[]).push([[0],{22:function(e,t,n){},24:function(e,t,n){},30:function(e,t,n){\"use strict\";n.r(t);var c=n(2),r=n(4),i=n.n(r),a=n(15),s=n.n(a),o=(n(22),n(10)),u=n.n(o),d=n(13),l=n(9),j=(n(24),n(8)),b=(n(25),n(28),n(16)),h=n(14);j.a.initializeApp({apiKey:\"AIzaSyBJhcglS9-i0liZophzKEToRMe8FiODIOk\",authDomain:\"chat-tutorial-5692d.firebaseapp.com\",databaseURL:\"https://chat-tutorial-5692d.firebaseio.com\",projectId:\"chat-tutorial-5692d\",storageBucket:\"chat-tutorial-5692d.appspot.com\",messagingSenderId:\"441905797006\",appId:\"1:441905797006:web:274684d28efcc58c8336df\"});var p=j.a.auth(),O=j.a.firestore();function f(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(\"button\",{className:\"sign-in\",onClick:function(){var e=new j.a.auth.GoogleAuthProvider;p.signInWithPopup(e)},children:\"Sign in with Google\"}),Object(c.jsx)(\"p\",{children:\"Do not violate the community guidelines or you will be banned for life!\"})]})}function g(){return p.currentUser&&Object(c.jsx)(\"button\",{className:\"sign-out\",onClick:function(){return p.signOut()},children:\"Sign Out\"})}function m(){var e=Object(r.useRef)(),t=O.collection(\"messages\").doc(\"group\").collection(\"chat\"),n=t.orderBy(\"createdAt\").limit(25),i=Object(h.a)(n,{idField:\"id\"}),a=Object(l.a)(i,1)[0],s=Object(r.useState)(\"\"),o=Object(l.a)(s,2),b=o[0],f=o[1],g=function(){var n=Object(d.a)(u.a.mark((function n(c){var r,i,a;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c.preventDefault(),r=p.currentUser,i=r.uid,a=r.photoURL,n.next=4,t.add({text:b,createdAt:j.a.firestore.FieldValue.serverTimestamp(),uid:i,photoURL:a});case 4:f(\"\"),e.current.scrollIntoView({behavior:\"smooth\"});case 6:case\"end\":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(\"main\",{children:[a&&a.map((function(e){return Object(c.jsx)(x,{message:e},e.id)})),Object(c.jsx)(\"span\",{ref:e})]}),Object(c.jsxs)(\"form\",{onSubmit:g,children:[Object(c.jsx)(\"input\",{value:b,onChange:function(e){return f(e.target.value)},placeholder:\"say something nice\"}),Object(c.jsx)(\"button\",{type:\"submit\",disabled:!b,children:\"\\ud83d\\udd4a\\ufe0f\"})]})]})}function x(e){var t=e.message,n=t.text,r=t.uid,i=t.photoURL,a=r===p.currentUser.uid?\"sent\":\"received\";return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(\"div\",{className:\"message \".concat(a),children:[Object(c.jsx)(\"img\",{src:i||\"https://api.adorable.io/avatars/23/abott@adorable.png\"}),Object(c.jsx)(\"p\",{children:n})]})})}var v=function(){var e=Object(b.a)(p),t=Object(l.a)(e,1)[0];return Object(c.jsxs)(\"div\",{className:\"App\",children:[Object(c.jsxs)(\"header\",{children:[Object(c.jsx)(\"h1\",{children:\"\\u269b\\ufe0f\\ud83d\\udd25\\ud83d\\udcac\"}),Object(c.jsx)(g,{})]}),Object(c.jsx)(\"section\",{children:t?Object(c.jsx)(m,{}):Object(c.jsx)(f,{})})]})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,31)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),i(e),a(e)}))};s.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(v,{})}),document.getElementById(\"root\")),F()}},[[30,1,2]]]);","name":"static/js/main.dfde5e9e.chunk.js","map":{"version":3,"sources":["static/js/main.dfde5e9e.chunk.js"],"names":["this","push","22","module","exports","__webpack_require__","24","30","__webpack_exports__","r","jsx_runtime","react","react_default","n","react_dom","react_dom_default","regenerator","regenerator_default","asyncToGenerator","slicedToArray","index_esm","react_firebase_hooks_auth_dist_index_esm","firestore_dist_index_esm","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","auth","firestore","SignIn","Object","children","className","onClick","provider","GoogleAuthProvider","signInWithPopup","SignOut","currentUser","signOut","GroupChatRoom","dummy","messagesRef","collection","doc","query","orderBy","limit","_useCollectionData3","idField","messages","_useState3","_useState4","formValue","setFormValue","sendMessage","_ref2","a","mark","_callee2","e","_auth$currentUser2","uid","photoURL","wrap","_context2","prev","next","preventDefault","add","text","createdAt","FieldValue","serverTimestamp","current","scrollIntoView","behavior","stop","_x2","apply","arguments","map","msg","ChatMessage","message","id","ref","onSubmit","value","onChange","target","placeholder","type","disabled","props","_props$message","messageClass","concat","src","src_App","_useAuthState","user","src_reportWebVitals","onPerfEntry","Function","then","bind","_ref","getCLS","getFID","getFCP","getLCP","getTTFB","render","StrictMode","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpchat-tutorial\"] = this[\"webpackJsonpchat-tutorial\"] || []).push([[0],{\n\n/***/ 22:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 24:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 30:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(4);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(15);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(22);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(10);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(13);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(24);\n\n// EXTERNAL MODULE: ./node_modules/firebase/app/dist/index.esm.js\nvar index_esm = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./node_modules/firebase/firestore/dist/index.esm.js\nvar dist_index_esm = __webpack_require__(25);\n\n// EXTERNAL MODULE: ./node_modules/firebase/auth/dist/index.esm.js\nvar auth_dist_index_esm = __webpack_require__(28);\n\n// EXTERNAL MODULE: ./node_modules/react-firebase-hooks/auth/dist/index.esm.js\nvar react_firebase_hooks_auth_dist_index_esm = __webpack_require__(16);\n\n// EXTERNAL MODULE: ./node_modules/react-firebase-hooks/firestore/dist/index.esm.js\nvar firestore_dist_index_esm = __webpack_require__(14);\n\n// CONCATENATED MODULE: ./src/App.js\n// Based on tutorial at https://fireship.io/lessons/react-firebase-chat-app-tutorial/\n// The tutorial also includes filtering bad words and banning users for swearing, which is not included here.\nindex_esm[\"a\" /* default */].initializeApp({// This data is copied from adding a web app to Firebase, in the project settings\napiKey:\"AIzaSyBJhcglS9-i0liZophzKEToRMe8FiODIOk\",authDomain:\"chat-tutorial-5692d.firebaseapp.com\",databaseURL:\"https://chat-tutorial-5692d.firebaseio.com\",projectId:\"chat-tutorial-5692d\",storageBucket:\"chat-tutorial-5692d.appspot.com\",messagingSenderId:\"441905797006\",appId:\"1:441905797006:web:274684d28efcc58c8336df\"});var auth=index_esm[\"a\" /* default */].auth();var firestore=index_esm[\"a\" /* default */].firestore();function App_App(){var _useAuthState=Object(react_firebase_hooks_auth_dist_index_esm[\"a\" /* useAuthState */])(auth),_useAuthState2=Object(slicedToArray[\"a\" /* default */])(_useAuthState,1),user=_useAuthState2[0];return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"App\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"header\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"\\u269B\\uFE0F\\uD83D\\uDD25\\uD83D\\uDCAC\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SignOut,{})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"section\",{children:user?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GroupChatRoom,{}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SignIn,{})})]});}//TODO we don't just want to sign in with Google, we want to have our own signup.\nfunction SignIn(){var signInWithGoogle=function signInWithGoogle(){var provider=new index_esm[\"a\" /* default */].auth.GoogleAuthProvider();auth.signInWithPopup(provider);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"sign-in\",onClick:signInWithGoogle,children:\"Sign in with Google\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"Do not violate the community guidelines or you will be banned for life!\"})]});}function SignOut(){return auth.currentUser&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"sign-out\",onClick:function onClick(){return auth.signOut();},children:\"Sign Out\"});}// Tips from here: https://edisondevadoss.medium.com/react-native-chat-using-firebase-d4c0ef1ab0b5 \nfunction PrivateChat(){var _auth$currentUser=auth.currentUser,uid=_auth$currentUser.uid,photoURL=_auth$currentUser.photoURL;// Merge two user IDs and create a new chat ID\nvar chatID=function chatID(){var uid1=uid;var uid2=uid;// TODO how to get other user's ID?\nvar chatIDpre=[];chatIDpre.push(uid1);chatIDpre.push(uid2);chatIDpre.sort();return chatIDpre.join('_');};var dummy=Object(react[\"useRef\"])();// for scrolling to bottom\n// Get messages\nvar messagesRef=firestore.collection('messages').doc(chatID.call()).collection('chat');var query=messagesRef.orderBy('createdAt');var _useCollectionData=Object(firestore_dist_index_esm[\"a\" /* useCollectionData */])(query,{idField:'id'}),_useCollectionData2=Object(slicedToArray[\"a\" /* default */])(_useCollectionData,1),messages=_useCollectionData2[0];var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),formValue=_useState2[0],setFormValue=_useState2[1];// Send messages\nvar sendMessage=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(e){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return messagesRef.add({text:formValue,createdAt:index_esm[\"a\" /* default */].firestore.FieldValue.serverTimestamp(),uid:uid,photoURL:photoURL});case 3:setFormValue('');dummy.current.scrollIntoView({behavior:'smooth'});//for scrolling to bottom\ncase 5:case\"end\":return _context.stop();}}},_callee);}));return function sendMessage(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"main\",{children:[messages&&messages.map(function(msg){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChatMessage,{message:msg},msg.id);}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{ref:dummy})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:sendMessage,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:formValue,onChange:function onChange(e){return setFormValue(e.target.value);},placeholder:\"say something nice\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",disabled:!formValue,children:\"\\uD83D\\uDD4A\\uFE0F\"})]})]});}function GroupChatRoom(){var dummy=Object(react[\"useRef\"])();// for scrolling to bottom\nvar messagesRef=firestore.collection('messages').doc('group').collection('chat');var query=messagesRef.orderBy('createdAt').limit(25);var _useCollectionData3=Object(firestore_dist_index_esm[\"a\" /* useCollectionData */])(query,{idField:'id'}),_useCollectionData4=Object(slicedToArray[\"a\" /* default */])(_useCollectionData3,1),messages=_useCollectionData4[0];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),formValue=_useState4[0],setFormValue=_useState4[1];var sendMessage=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(e){var _auth$currentUser2,uid,photoURL;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();_auth$currentUser2=auth.currentUser,uid=_auth$currentUser2.uid,photoURL=_auth$currentUser2.photoURL;_context2.next=4;return messagesRef.add({text:formValue,createdAt:index_esm[\"a\" /* default */].firestore.FieldValue.serverTimestamp(),uid:uid,photoURL:photoURL});case 4:setFormValue('');dummy.current.scrollIntoView({behavior:'smooth'});//for scrolling to bottom\ncase 6:case\"end\":return _context2.stop();}}},_callee2);}));return function sendMessage(_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"main\",{children:[messages&&messages.map(function(msg){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChatMessage,{message:msg},msg.id);}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{ref:dummy})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:sendMessage,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:formValue,onChange:function onChange(e){return setFormValue(e.target.value);},placeholder:\"say something nice\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",disabled:!formValue,children:\"\\uD83D\\uDD4A\\uFE0F\"})]})]});}function ChatMessage(props){var _props$message=props.message,text=_props$message.text,uid=_props$message.uid,photoURL=_props$message.photoURL;// Here we set it up so we can apply different styling based on whether the message is sent or received\nvar messageClass=uid===auth.currentUser.uid?'sent':'received';return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"message \".concat(messageClass),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:photoURL||'https://api.adorable.io/avatars/23/abott@adorable.png'}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:text})]})});}/* harmony default export */ var src_App = (App_App);/* Note: Also edited the \"Rules\" in Firebase like so:\nrules_version = '2';\nservice cloud.firestore {\n  match /databases/{database}/documents {\n    match /{document=**} {\n      allow read, write: if\n          request.time < timestamp.date(2020, 12, 19);\n    }\n    \n    match /messages/{docId}{\n    \tallow read: if request.auth.uid != null;\n      allow create: if canCreateMessage();\n    }\n    \n    function canCreateMessage(){\n    \tlet isSignedIn = request.auth.uid != null;\n      let isOwner = request.auth.uid == request.resource.data.uid;\n      \n      return isSignedIn && isOwner;\n    }\n  }\n}\n*/\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 31)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[30,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/kalina/Desktop/school/cs598kgk/chat-tutorial/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/kalina/Desktop/school/cs598kgk/chat-tutorial/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/kalina/Desktop/school/cs598kgk/chat-tutorial/node_modules/postcss-loader/src/index.js??postcss!/Users/kalina/Desktop/school/cs598kgk/chat-tutorial/src/index.css","/Users/kalina/Desktop/school/cs598kgk/chat-tutorial/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/kalina/Desktop/school/cs598kgk/chat-tutorial/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/kalina/Desktop/school/cs598kgk/chat-tutorial/node_modules/postcss-loader/src/index.js??postcss!/Users/kalina/Desktop/school/cs598kgk/chat-tutorial/src/App.css","/Users/kalina/Desktop/school/cs598kgk/chat-tutorial/src/App.js","/Users/kalina/Desktop/school/cs598kgk/chat-tutorial/src/reportWebVitals.js","/Users/kalina/Desktop/school/cs598kgk/chat-tutorial/src/index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","auth","firestore","App","useAuthState","user","SignIn","signInWithGoogle","provider","GoogleAuthProvider","signInWithPopup","SignOut","currentUser","signOut","PrivateChat","uid","photoURL","chatID","uid1","uid2","chatIDpre","push","sort","join","dummy","useRef","messagesRef","collection","doc","call","query","orderBy","useCollectionData","idField","messages","useState","formValue","setFormValue","sendMessage","e","preventDefault","add","text","createdAt","FieldValue","serverTimestamp","current","scrollIntoView","behavior","map","msg","id","target","value","GroupChatRoom","limit","ChatMessage","props","message","messageClass","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// Based on tutorial at https://fireship.io/lessons/react-firebase-chat-app-tutorial/\n// The tutorial also includes filtering bad words and banning users for swearing, which is not included here.\n\nimport React, { useRef, useState } from 'react';\nimport './App.css';\n\nimport firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\n\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\n\nfirebase.initializeApp({\n    // This data is copied from adding a web app to Firebase, in the project settings\n    apiKey: \"AIzaSyBJhcglS9-i0liZophzKEToRMe8FiODIOk\",\n    authDomain: \"chat-tutorial-5692d.firebaseapp.com\",\n    databaseURL: \"https://chat-tutorial-5692d.firebaseio.com\",\n    projectId: \"chat-tutorial-5692d\",\n    storageBucket: \"chat-tutorial-5692d.appspot.com\",\n    messagingSenderId: \"441905797006\",\n    appId: \"1:441905797006:web:274684d28efcc58c8336df\"\n\n})\n\nconst auth = firebase.auth();\nconst firestore = firebase.firestore();\n\n\nfunction App() {\n\n  const [user] = useAuthState(auth);\n\n  return (\n    <div className=\"App\">\n      <header>\n        <h1>‚öõÔ∏èüî•üí¨</h1>\n        <SignOut />\n      </header>\n\n      <section>\n        {user ? <GroupChatRoom /> : <SignIn />}\n      </section>\n\n    </div>\n  );\n}\n\n//TODO we don't just want to sign in with Google, we want to have our own signup.\nfunction SignIn() {\n\n  const signInWithGoogle = () => {\n    const provider = new firebase.auth.GoogleAuthProvider();\n    auth.signInWithPopup(provider);\n  }\n\n  return (\n    <>\n      <button className=\"sign-in\" onClick={signInWithGoogle}>Sign in with Google</button>\n      <p>Do not violate the community guidelines or you will be banned for life!</p>\n    </>\n  )\n\n}\n\nfunction SignOut() {\n  return auth.currentUser && (\n    <button className=\"sign-out\" onClick={() => auth.signOut()}>Sign Out</button>\n  )\n}\n\n\n// Tips from here: https://edisondevadoss.medium.com/react-native-chat-using-firebase-d4c0ef1ab0b5 \nfunction PrivateChat() {\n\n    const { uid, photoURL } = auth.currentUser;\n    \n    // Merge two user IDs and create a new chat ID\n    const chatID = () => {\n        const uid1 = uid; \n        const uid2 = uid; // TODO how to get other user's ID?\n        const chatIDpre = [];\n        chatIDpre.push(uid1);\n        chatIDpre.push(uid2);\n        chatIDpre.sort();\n        return chatIDpre.join('_');\n    };\n    \n    const dummy = useRef(); // for scrolling to bottom\n    \n    // Get messages\n    const messagesRef = firestore.collection('messages').doc(chatID.call()).collection('chat');\n    const query = messagesRef.orderBy('createdAt');\n    const [messages] = useCollectionData(query, { idField: 'id' });\n\n    const [formValue, setFormValue] = useState('');\n    \n    // Send messages\n    const sendMessage = async (e) => {\n        e.preventDefault();\n\n        await messagesRef.add({\n          text: formValue,\n          createdAt: firebase.firestore.FieldValue.serverTimestamp(),\n          uid,\n          photoURL\n        })\n\n        setFormValue('');\n        dummy.current.scrollIntoView({ behavior: 'smooth' }); //for scrolling to bottom\n    }\n  \n\n  return (<>\n    <main>\n\n      {messages && messages.map(msg => <ChatMessage key={msg.id} message={msg} />)}\n\n      {/*Adding this empty dummy makes it so it scrolls to the bottom when there are new messages -->*/}\n      <span ref={dummy}></span>\n\n    </main>\n\n    <form onSubmit={sendMessage}>\n\n      <input value={formValue} onChange={(e) => setFormValue(e.target.value)} placeholder=\"say something nice\" />\n\n      <button type=\"submit\" disabled={!formValue}>üïäÔ∏è</button>\n\n    </form>\n  </>)\n}\n\nfunction GroupChatRoom() {\n\n  const dummy = useRef(); // for scrolling to bottom\n  const messagesRef = firestore.collection('messages').doc('group').collection('chat');\n  const query = messagesRef.orderBy('createdAt').limit(25);\n\n  const [messages] = useCollectionData(query, { idField: 'id' });\n\n  const [formValue, setFormValue] = useState('');\n\n\n  const sendMessage = async (e) => {\n    e.preventDefault();\n\n    const { uid, photoURL } = auth.currentUser;\n\n    await messagesRef.add({\n      text: formValue,\n      createdAt: firebase.firestore.FieldValue.serverTimestamp(),\n      uid,\n      photoURL\n    })\n\n    setFormValue('');\n    dummy.current.scrollIntoView({ behavior: 'smooth' }); //for scrolling to bottom\n  }\n  \n\n  return (<>\n    <main>\n\n      {messages && messages.map(msg => <ChatMessage key={msg.id} message={msg} />)}\n\n      {/*Adding this empty dummy makes it so it scrolls to the bottom when there are new messages -->*/}\n      <span ref={dummy}></span>\n\n    </main>\n\n    <form onSubmit={sendMessage}>\n\n      <input value={formValue} onChange={(e) => setFormValue(e.target.value)} placeholder=\"say something nice\" />\n\n      <button type=\"submit\" disabled={!formValue}>üïäÔ∏è</button>\n\n    </form>\n  </>)\n}\n\n\n\nfunction ChatMessage(props) {\n  const { text, uid, photoURL } = props.message;\n\n  // Here we set it up so we can apply different styling based on whether the message is sent or received\n  const messageClass = uid === auth.currentUser.uid ? 'sent' : 'received';\n\n  return (<>\n    <div className={`message ${messageClass}`}>\n      <img src={photoURL || 'https://api.adorable.io/avatars/23/abott@adorable.png'} />\n      <p>{text}</p>\n    </div>\n  </>)\n}\n\n\nexport default App;\n\n/* Note: Also edited the \"Rules\" in Firebase like so:\nrules_version = '2';\nservice cloud.firestore {\n  match /databases/{database}/documents {\n    match /{document=**} {\n      allow read, write: if\n          request.time < timestamp.date(2020, 12, 19);\n    }\n    \n    match /messages/{docId}{\n    \tallow read: if request.auth.uid != null;\n      allow create: if canCreateMessage();\n    }\n    \n    function canCreateMessage(){\n    \tlet isSignedIn = request.auth.uid != null;\n      let isOwner = request.auth.uid == request.resource.data.uid;\n      \n      return isSignedIn && isOwner;\n    }\n  }\n}\n*/","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"]}}